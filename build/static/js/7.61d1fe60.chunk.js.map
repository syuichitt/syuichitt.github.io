{"version":3,"sources":["components/pagination/style.js","components/pagination/index.js","components/theme-cover/style.js","components/theme-cover/index.js","pages/discover/c-pages/songs/c-cpns/songs-category/style.js","pages/discover/c-pages/songs/c-cpns/songs-category/index.js","pages/discover/c-pages/songs/c-cpns/songs-header/style.js","pages/discover/c-pages/songs/c-cpns/songs-header/index.js","pages/discover/c-pages/songs/c-cpns/songs-list/style.js","pages/discover/c-pages/songs/c-cpns/songs-list/index.js","pages/discover/c-pages/songs/style.js","pages/discover/c-pages/songs/index.js"],"names":["PaginationWrapper","styled","div","memo","props","currentPage","total","onPageChange","className","size","current","defaultCurrent","pageSize","showSizeChanger","itemRender","type","originalElement","onChange","ThemeCoverWrapper","right","info","src","getSizeImage","picUrl","coverImgUrl","alt","getCount","playCount","name","copywriter","creator","nickname","CategoryWrapper","useSelector","state","category","getIn","isShow","shallowEqual","dispatch","useDispatch","selectCategory","changeCurrentCategoryAction","getSongList","changeIsShowAction","onClick","e","map","item","index","key","subs","sItem","HeaderWrapper","HeaderLeft","HeaderRight","currentCategory","undefined","nativeEvent","stopImmediatePropagation","ShowCategory","SongListWrapper","useState","setCurrentPage","categorySongs","songList","playlists","id","PER_PAGE_NUMBER","page","SongsWrapper","cat","useLocation","useEffect","getCategory"],"mappings":"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","file":"static/js/7.61d1fe60.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const PaginationWrapper = styled.div`\n  .pagination {\n    margin: 30px 0;\n    text-align: center;\n\n    .control {\n      width: 69px;\n      height: 24px;\n      line-height: 22px;\n      text-align: center;\n      border: 1px solid #ccc;\n      border-radius: 2px;\n      margin: 0 5px;\n      color: #333;\n\n      &:disabled {\n        color: #999;\n      }\n    }\n\n    .ant-pagination-item {\n      border: 1px solid #ccc !important;\n      margin: 0 5px;\n      border-radius: 3px;\n\n      a {\n        font-size: 12px;\n      }\n\n      &.ant-pagination-item-active {\n        background-color: #c20c0c;\n        border-color: #A2161B;\n        a {\n          color: #fff;\n        }\n      }\n    }\n  }\n`","import React, { memo } from 'react';\n\nimport { Pagination } from 'antd';\nimport { PaginationWrapper } from './style';\n\nexport default memo(function HYPagination(props) {\n  const { currentPage, total, onPageChange } = props;\n\n  // render function\n  function itemRender(current, type, originalElement) {\n    if (type === 'prev') {\n      return <button className=\"control prev\"> &lt; 上一页</button>;\n    }\n    if (type === 'next') {\n      return <button className=\"control next\">上一页 &gt;</button>;\n    }\n    return originalElement;\n  }\n\n  return (\n    <PaginationWrapper>\n      <Pagination className=\"pagination\"\n        size=\"small\"\n        current={currentPage}\n        defaultCurrent={1}\n        total={total}\n        pageSize={35}\n        /*不显示 35/page*/\n        showSizeChanger={false}\n        //修改左右箭头 官网有例子\n        itemRender={itemRender}\n        onChange={onPageChange} />\n    </PaginationWrapper>\n  )\n})\n","import styled from \"styled-components\";\n\nexport const ThemeCoverWrapper = styled.div `\n  width: 140px;\n  margin: 20px ${props => (props.right || 0)} 20px 0;\n\n  .cover-top {\n    position: relative;\n\n    &>img {\n      width: 140px;\n      height: 140px;\n    }\n    \n      .info {\n        width:100%;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0 10px;\n        position: absolute;\n        bottom: 0;\n        background-position: 0 -537px;\n        color: #ccc;\n        height: 27px;\n\n        .erji {\n          margin-right: 5px;\n          display: inline-block;\n          width: 14px;\n          height: 11px;\n          background-position: 0 -24px;\n        }\n\n        .play {\n          display: inline-block;\n          width: 16px;\n          height: 17px;\n          background-position: 0 0;\n        }\n      }\n    \n  }\n\n  .cover-bottom {\n    font-size: 14px;\n    color: #000;\n    margin-top: 5px;\n  }\n\n  .cover-source {\n    color: #666;\n  }\n`","import React, { memo } from 'react';\n\nimport {\n  getSizeImage,\n  getCount\n} from \"@/utils/format-utils\";\n\nimport {\n  ThemeCoverWrapper\n} from \"./style\";\n\nexport default memo(function ThemeCover(props) {\n  const { info, right } = props;\n\n  return (\n    <ThemeCoverWrapper right={right}>\n      <div className=\"cover-top\">\n        {/* info.picUrl 推荐里的 info.coverImgUrl */}\n        <img src={getSizeImage(info.picUrl || info.coverImgUrl, 140)} alt=\"\" />\n\n        <div className=\"info sprite_covor\">\n          <span>\n            <i className=\"sprite_icon erji\"></i>\n            {getCount(info.playCount)}\n          </span>\n          <i className=\"sprite_icon play\"></i>\n        </div>\n      </div>\n\n      <div className=\"cover-bottom text-nowrap\">\n        {info.name}\n      </div>\n\n      <div className=\"cover-source\">\n        by {info.copywriter || info.creator.nickname}\n      </div>\n    </ThemeCoverWrapper>\n  )\n})\n","import styled from \"styled-components\";\n\nexport const CategoryWrapper = styled.div`\n  position: absolute;\n  z-index: 99;\n  top: 55px;\n  left: -25px;\n  width: 700px;\n  border: 1px solid #ccc;\n  background-color: #fefefe;\n  box-shadow: 0 0 10px 2px #d3d3d3;\n  border-radius: 5px;\n  padding-top: 10px;\n  \n  .arrow {\n    position: absolute;\n    top: -11px;\n    left: 110px;\n    width: 24px;\n    height: 11px;\n    background-position: -48px 0;\n  }\n\n  .all {\n    padding: 10px 25px;\n    border-bottom: 1px solid #e2e2e2;\n  }\n\n  .category {\n    padding-left: 25px;\n    dl {\n      display: flex;\n    }\n\n    dt {\n      display: inline-flex;\n      align-items: center;\n      padding: 15px 0 10px;\n      width: 70px;\n      text-align: center;\n\n      i {\n        display: inline-block;\n        width: 24px;\n        height: 24px;\n        background-position: -20px -735px;\n        margin-right: 8px;\n      }\n    }\n  \n\n    dl.item1 {\n      i {\n        background-position: 0 -60px;\n      }\n      align-items: flex-start;\n    }\n\n    dl.item2 {\n      i {\n        background-position: 0 -88px;\n      }\n      align-items: flex-start;\n    }\n\n    dl.item3 {\n      i {\n        background-position: 0 -117px;\n      }\n      align-items: flex-start;\n    }\n\n    dl.item4 {\n      i {\n        background-position: 0 -141px;\n      }\n\n      dd {\n        padding-bottom: 25px;\n      }\n      align-items: flex-start;\n    }\n\n    dd {\n      padding-top: 18px;\n      padding-left: 15px;\n      flex: 1;\n      display: flex;\n      flex-wrap: wrap;\n      border-left: 1px solid #e2e2e2;\n\n      .item {\n        margin-bottom: 8px;\n      }\n\n      a {\n        color: #333;\n      }\n\n      .divider {\n        margin: 0 12px;\n        color: #e2e2e2;\n      }\n    }\n  }\n`","import React, { memo } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\n\nimport {\n  changeCurrentCategoryAction,\n  getSongList,\n  changeIsShowAction\n} from \"../../store/actionCreators\";\n\nimport {\n  CategoryWrapper\n} from \"./style\";\n\nexport default memo(function SongsCategory() {\n  // redux\n  const { category,isShow } = useSelector(state => ({\n    category: state.getIn([\"songs\", \"category\"]),\n    isShow: state.getIn([\"songs\", \"isShow\"]),\n  }), shallowEqual);\n  \n  const dispatch = useDispatch();\n\n  function selectCategory(name) {\n    dispatch(changeCurrentCategoryAction(name));\n    dispatch(getSongList(0));\n    dispatch(changeIsShowAction(!isShow))\n  }\n  \n  return (\n    <CategoryWrapper>\n      <div className=\"arrow sprite_icon\"></div>\n      <div className=\"all\">\n        <span className=\"link\" onClick={e => selectCategory(\"全部\")}>全部风格</span>\n      </div>\n      <div className=\"category\">\n        {\n          category.map((item, index) => {\n            return (\n              <dl key={item.name} className={\"item\" + index}>\n                <dt>\n                  <i className=\"icon sprite_icon2\"></i>\n                  <span>{item.name}</span>\n                </dt>\n                <dd>\n                  {\n                    item.subs.map(sItem => {\n                      return (\n                        <div className=\"item\" key={sItem.name}>\n                          <span className=\"link\" onClick={e => selectCategory(sItem.name)}>{sItem.name}</span>\n                          <span className=\"divider\">|</span>\n                        </div>\n                      )\n                    })\n                  }\n                </dd>\n              </dl>\n            )\n          })\n        }\n      </div>\n    </CategoryWrapper>\n  )\n})\n","import styled from 'styled-components';\n\nexport const HeaderWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid #c20c0c;\n  padding-bottom: 6px;\n`\n\nexport const HeaderLeft = styled.div`\n  display: flex;\n  align-items: center;\n  position: relative;\n  .title {\n    font-size: 24px;\n    font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\n  }\n\n  .select {\n    position: relative;\n    top: 2px;\n    width: 91px;\n    height: 31px;\n    line-height: 31px;\n    background-color: #fafafa;\n    border: 1px solid #d3d3d3;\n    border-radius: 3px;\n    color: #0c73c2;\n    margin-left: 10px;\n    cursor: pointer;\n    &:hover {\n      background-color: #fff;\n    } \n\n    i {\n      position: relative;\n      left: 5px;\n      bottom: 2px;\n      display: inline-block;\n      width: 8px;\n      height: 5px;\n      background-position: -70px -543px;\n    }\n  }\n\n`\n\nexport const HeaderRight = styled.div`\n  .hot {\n    width: 46px;\n    height: 29px;\n    background-color: #c20c0c;\n    color: #fff;\n    border-radius: 3px;\n    border: 1px solid #aaa;\n  }\n`","import React, {memo} from 'react';\nimport { useSelector, shallowEqual,useDispatch} from 'react-redux';\nimport  {changeIsShowAction} from '../../store/actionCreators';\nimport SongsCategory from '../songs-category';\n\nimport {\n  HeaderWrapper,\n  HeaderLeft,\n  HeaderRight\n} from \"./style\";\n\nexport default memo(function HYSongsHeader() {\n  // hooks\n  \n  const {isShow}  = useSelector(state => ({\n    isShow: state.getIn([\"songs\", \"isShow\"]),\n  }), shallowEqual);\n\n  const dispatch = useDispatch();\n\n  // redux\n  const { currentCategory } = useSelector(state => ({\n    currentCategory: state.getIn([\"songs\", \"currentCategory\"]),\n  }), shallowEqual);\n\n  const ShowCategory = (isShow,e) =>{\n    dispatch(changeIsShowAction(isShow))\n    e.nativeEvent.stopImmediatePropagation();\n  }\n  return (\n    <HeaderWrapper>\n      <HeaderLeft>\n        <span className=\"title\">{currentCategory === undefined? \"全部\":currentCategory }</span>\n        <button className=\"select\" onClick={e => ShowCategory(!isShow,e)}>\n          <span>选择分类</span>\n          <i className=\"sprite_icon2\"></i>\n        </button >\n        {isShow ? <SongsCategory /> : null}\n      </HeaderLeft>\n      <HeaderRight>\n        <button className=\"hot\">热门</button>\n      </HeaderRight>\n    </HeaderWrapper>\n  )\n})\n","import styled from 'styled-components';\n\nexport const SongListWrapper = styled.div`\n  .songs-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin-right: -30px;\n  }\n`","import React, { useState, memo } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\n\nimport { PER_PAGE_NUMBER } from '../../store/constants';\nimport { getSongList } from \"../../store/actionCreators\";\n\nimport ThemeCover from '@/components/theme-cover';\nimport Pagination from '@/components/pagination';\nimport {\n  SongListWrapper\n} from \"./style\";\n\nexport default memo(function HYSongsList() {\n  // hooks\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // redux\n  const { categorySongs } = useSelector(state => ({\n    categorySongs: state.getIn([\"songs\", \"categorySongs\"])\n  }), shallowEqual);\n  const songList = categorySongs.playlists || [];\n  const total = categorySongs.total || 0;\n  const dispatch = useDispatch();\n\n  function onPageChange(page, pageSize) {\n    setCurrentPage(page);\n    dispatch(getSongList(page));\n  }\n\n  return (\n    <SongListWrapper>\n      <div className=\"songs-list\">\n        {\n          songList.map((item, index) => {\n            return (\n              <ThemeCover info={item} key={item.id} right=\"30px\" />\n            )\n          })\n        }\n      </div>\n      <Pagination currentPage={currentPage} \n                    total={total} \n                    pageSize={PER_PAGE_NUMBER}\n                    onPageChange={onPageChange}/>\n    </SongListWrapper>\n  )\n})\n","import styled from 'styled-components';\n\nexport const SongsWrapper = styled.div`\n  padding: 40px;\n  border: 1px solid #d3d3d3;\n  border-width: 0 1px;\n  background-color: #fff;\n`","import React, { useEffect, memo } from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { useLocation } from 'react-router-dom';\n\n\nimport { \n  getCategory,\n  getSongList,\n  changeCurrentCategoryAction\n} from \"./store/actionCreators\";\n\nimport HYSongsHeader from \"./c-cpns/songs-header\";\nimport HYSongsList from './c-cpns/songs-list';\nimport {\n  SongsWrapper\n} from \"./style\"\n\nexport default memo(function HYSongs() {\n  // redux\n  const dispatch = useDispatch();\n  const cat = useLocation().cat;\n\n  useEffect(() => {\n    dispatch(changeCurrentCategoryAction(cat));\n  }, [dispatch, cat]);\n\n  // hooks\n  useEffect(() => {\n    dispatch(getCategory());\n    dispatch(getSongList(0));\n  }, [dispatch])\n\n  return (\n    <SongsWrapper className=\"wrap-v2\">\n      <HYSongsHeader/>\n      <HYSongsList/>\n    </SongsWrapper>\n  )\n})\n"],"sourceRoot":""}