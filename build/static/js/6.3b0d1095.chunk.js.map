{"version":3,"sources":["components/theme-header-normal/style.js","components/theme-header-normal/index.js","components/pagination/style.js","components/pagination/index.js","components/album-cover/style.js","components/album-cover/index.js","pages/discover/c-pages/album/store/actionCreators.js","services/album.js","pages/discover/c-pages/album/c-cpns/hot-album/style.js","pages/discover/c-pages/album/c-cpns/hot-album/index.js","pages/discover/c-pages/album/c-cpns/top-album/style.js","pages/discover/c-pages/album/c-cpns/top-album/index.js","pages/discover/c-pages/album/style.js","pages/discover/c-pages/album/index.js"],"names":["HeaderWrapper","styled","div","memo","props","title","rightSlot","className","PaginationWrapper","currentPage","total","onPageChange","size","current","defaultCurrent","pageSize","showSizeChanger","itemRender","type","originalElement","onChange","AlbumWrapper","width","bgp","info","src","getSizeImage","picUrl","alt","name","artist","getHotAlbumsAction","dispatch","request","url","then","res","actionTypes","hotAlbums","albums","changeHotAlbumsAction","getTopAlbumsAction","page","limit","offset","params","topAlbums","changeTopAlbumAction","HotAlbumWrapper","useSelector","state","getIn","shallowEqual","useDispatch","useEffect","slice","map","item","index","key","id","TopAlbumWrapper","useState","setCurrentPage","console","log","AblumWrapper"],"mappings":"gJAEaA,E,MAAgBC,EAAOC,IAAV,gMCIXC,oBAAK,SAA2BC,GAAQ,IAC7CC,EAAqBD,EAArBC,MAAOC,EAAcF,EAAdE,UAEf,OACE,kBAACN,EAAD,KACE,yBAAKO,UAAU,SAASF,GACxB,yBAAKE,UAAU,SACZD,Q,wECXIE,E,MAAoBP,EAAOC,IAAV,qsBCGfC,oBAAK,SAAsBC,GAAQ,IACxCK,EAAqCL,EAArCK,YAAaC,EAAwBN,EAAxBM,MAAOC,EAAiBP,EAAjBO,aAa5B,OACE,kBAACH,EAAD,KACE,kBAAC,IAAD,CAAYD,UAAU,aACpBK,KAAK,QACLC,QAASJ,EACTK,eAAgB,EAChBJ,MAAOA,EACPK,SAAU,GAEVC,iBAAiB,EAEjBC,WArBN,SAAoBJ,EAASK,EAAMC,GACjC,MAAa,SAATD,EACK,4BAAQX,UAAU,gBAAlB,yBAEI,SAATW,EACK,4BAAQX,UAAU,gBAAlB,wBAEFY,GAeHC,SAAUT,S,uEC7BLU,E,MAAepB,EAAOC,IAAV,onBAGZ,SAAAE,GAAK,OAAIA,EAAMkB,SACd,SAAAlB,GAAK,OAAIA,EAAMQ,QAKd,SAAAR,GAAK,OAAIA,EAAMQ,QACd,SAAAR,GAAK,OAAIA,EAAMQ,QASA,SAAAR,GAAK,OAAIA,EAAMmB,OAOjC,SAAAnB,GAAK,OAAIA,EAAMQ,QCjBbT,oBAAK,SAAoBC,GAAQ,IACtCoB,EAA8BpB,EAA9BoB,KAAMZ,EAAwBR,EAAxBQ,KAAOU,EAAiBlB,EAAjBkB,MAAQC,EAASnB,EAATmB,IAE7B,OACE,kBAACF,EAAD,CAAcT,KAAMA,EAAMU,MAAOA,EAAOC,IAAKA,GAC3C,yBAAKhB,UAAU,eACb,yBAAKkB,IAAKC,YAAaF,EAAKG,OAAQ,KAAMC,IAAI,KAC9C,yBAAMrB,UAAU,sBAAsBiB,EAAKK,OAE7C,yBAAKtB,UAAU,cACb,yBAAKA,UAAU,QAAQiB,EAAKK,MAC5B,yBAAKtB,UAAU,UAAUiB,EAAKM,OAAOD,Y,oFCf7C,I,MAeaE,EAAqB,WAChC,OAAO,SAAAC,GCpBAC,YAAQ,CACbC,IAAK,kBDoBUC,MAAK,SAAAC,GAClBJ,EAlBwB,SAACI,GAAD,MAAU,CACtClB,KAAMmB,IACNC,UAAWF,EAAIG,QAgBFC,CAAsBJ,SAKxBK,EAAqB,SAACC,GACjC,OAAO,SAAAV,GCvBF,IAAsBW,EAAOC,GAAPD,EDwBZ,GCxBmBC,EDwBJ,IAAVF,EAAK,GCvBlBT,YAAQ,CACbC,IAAK,aACLW,OAAQ,CACNF,QACAC,aDmB8BT,MAAK,SAAAC,GAfZ,IAAC1B,EAgBxBsB,EArBuB,SAACI,GAAD,MAAU,CACrClB,KAAMmB,IACNS,UAAWV,EAAIG,QAmBFQ,CAAqBX,IAC9BJ,GAjBwBtB,EAiBM0B,EAAI1B,MAjBC,CACvCQ,KAAMmB,IACN3B,MAAOA,U,kCEjBIsC,EAAkB/C,IAAOC,IAAV,iICSbC,kBAAK,WAAqB,IAE/BmC,EAAcW,aAAY,SAAAC,GAAK,MAAK,CAC1CZ,UAAWY,EAAMC,MAAM,CAAC,QAAS,iBAC/BC,KAFId,UAGFN,EAAWqB,cAMjB,OAJAC,qBAAU,WACRtB,EAASD,OACR,CAACC,IAGF,kBAACgB,EAAD,KACE,kBAAC,IAAD,CAAoB3C,MAAM,6BAC1B,yBAAKE,UAAU,cAEX+B,EAAUiB,MAAM,EAAG,IAAIC,KAAI,SAACC,EAAMC,GAChC,OAAO,kBAAC,IAAD,CAAY9C,KAAM,QACJU,MAAO,QACPC,IAAK,SACLoC,IAAKF,EAAKG,GACVpC,KAAMiC,Y,iBC9B1BI,EAAkB5D,IAAOC,IAAV,sJCUbC,kBAAK,WAAuB,IAAD,EACF2D,mBAAS,GADP,mBACjCrD,EADiC,KACpBsD,EADoB,OAIXd,aAAY,SAAAC,GAAK,MAAK,CACjDJ,UAAWI,EAAMC,MAAM,CAAC,QAAS,cACjCzC,MAAOwC,EAAMC,MAAM,CAAC,QAAS,gBAC3BC,KAHIN,EAJgC,EAIhCA,UAAWpC,EAJqB,EAIrBA,MAIbsB,EAAWqB,cAEjBC,qBAAU,WACRtB,EAASS,EAAmB,MAC3B,CAACT,IASJ,OAFAgC,QAAQC,IAAIvD,GAGV,kBAACmD,EAAD,KACE,kBAAC,IAAD,CAAmBxD,MAAM,6BACzB,yBAAKE,UAAU,cAEXuC,EAAUU,KAAI,SAACC,EAAMC,GACnB,OAAO,kBAAC,IAAD,CAAY9C,KAAM,QACJU,MAAO,QACPC,IAAK,SACLoC,IAAKF,EAAKG,GACVpC,KAAMiC,QAIjC,kBAAC,IAAD,CAAYhD,YAAaA,EACXC,MAAOA,EACPK,SAAU,GACVJ,aAvBG,SAAC+B,EAAM3B,GAC1BgD,EAAerB,GACfV,EAASS,EAAmBC,WC3BnBwB,EAAejE,IAAOC,IAAV,+HCMVC,0BAAK,WAClB,OACE,kBAAC+D,EAAD,CAAc3D,UAAU,WACtB,kBAAC,EAAD,MACA,kBAAC,EAAD","file":"static/js/6.3b0d1095.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const HeaderWrapper = styled.div`\n  display: flex;\n  padding-bottom: 5px;\n  border-bottom: 2px solid #c20c0c;\n  font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\n  font-size: 24px;\n`\n","import React, {memo} from 'react';\n\nimport {\n  HeaderWrapper\n} from \"./style\";\n\nexport default memo(function ThemeHeaderNormal(props) {\n  const { title, rightSlot } = props;\n\n  return (\n    <HeaderWrapper>\n      <div className=\"title\">{title}</div>\n      <div className=\"right\">\n        {rightSlot}\n      </div>\n    </HeaderWrapper>\n  )\n})\n","import styled from 'styled-components';\n\nexport const PaginationWrapper = styled.div`\n  .pagination {\n    margin: 30px 0;\n    text-align: center;\n\n    .control {\n      width: 69px;\n      height: 24px;\n      line-height: 22px;\n      text-align: center;\n      border: 1px solid #ccc;\n      border-radius: 2px;\n      margin: 0 5px;\n      color: #333;\n\n      &:disabled {\n        color: #999;\n      }\n    }\n\n    .ant-pagination-item {\n      border: 1px solid #ccc !important;\n      margin: 0 5px;\n      border-radius: 3px;\n\n      a {\n        font-size: 12px;\n      }\n\n      &.ant-pagination-item-active {\n        background-color: #c20c0c;\n        border-color: #A2161B;\n        a {\n          color: #fff;\n        }\n      }\n    }\n  }\n`","import React, { memo } from 'react';\n\nimport { Pagination } from 'antd';\nimport { PaginationWrapper } from './style';\n\nexport default memo(function HYPagination(props) {\n  const { currentPage, total, onPageChange } = props;\n\n  // render function\n  function itemRender(current, type, originalElement) {\n    if (type === 'prev') {\n      return <button className=\"control prev\"> &lt; 上一页</button>;\n    }\n    if (type === 'next') {\n      return <button className=\"control next\">上一页 &gt;</button>;\n    }\n    return originalElement;\n  }\n\n  return (\n    <PaginationWrapper>\n      <Pagination className=\"pagination\"\n        size=\"small\"\n        current={currentPage}\n        defaultCurrent={1}\n        total={total}\n        pageSize={35}\n        /*不显示 35/page*/\n        showSizeChanger={false}\n        //修改左右箭头 官网有例子\n        itemRender={itemRender}\n        onChange={onPageChange} />\n    </PaginationWrapper>\n  )\n})\n","import styled from 'styled-components';\n\nexport const AlbumWrapper = styled.div`\n  .album-image {\n    position: relative;\n    width: ${props => props.width};\n    height: ${props => props.size};\n    overflow: hidden;\n    margin-top: 15px;\n\n    img {\n      width: ${props => props.size};\n      height: ${props => props.size};\n    }\n\n    .cover {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      background-position: 0 ${props => props.bgp};\n      text-indent: -9999px;\n    }\n  }\n\n  .album-info {\n    font-size: 12px;\n    width: ${props => props.size};\n    .name {\n      color: #000;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n\n    .artist {\n      color: #666;\n    }\n  }\n`","import React, { memo } from 'react';\n\nimport {\n  getSizeImage\n} from \"@/utils/format-utils\";\n\nimport {\n  AlbumWrapper\n} from \"./style\";\n\n\nexport default memo(function AlbumCover(props) {\n  const { info, size , width , bgp  } = props;\n\n  return (\n    <AlbumWrapper size={size} width={width} bgp={bgp}>\n      <div className=\"album-image\">\n        <img src={getSizeImage(info.picUrl, 150)} alt=\"\" />\n        <div  className=\"cover sprite_covor\">{info.name}</div>\n      </div>\n      <div className=\"album-info\">\n        <div className=\"name\">{info.name}</div>\n        <div className=\"artist\">{info.artist.name}</div>\n      </div>\n    </AlbumWrapper>\n  )\n})\n","import * as actionTypes from './constants';\n\nimport {\n  getHotAlbums,\n  getTopAlbums\n} from '@/services/album.js';\n\nconst changeHotAlbumsAction = (res) => ({\n  type: actionTypes.CHANGE_HOT_ALBUMS,\n  hotAlbums: res.albums\n})\n\nconst changeTopAlbumAction = (res) => ({\n  type: actionTypes.CHANGE_TOP_ALBUMS,\n  topAlbums: res.albums\n})\n\nconst changeTopTotalAction = (total) => ({\n  type: actionTypes.CHANGE_TOP_TOTAL,\n  total: total\n})\n\nexport const getHotAlbumsAction = () => {\n  return dispatch => {\n    getHotAlbums().then(res => {\n      dispatch(changeHotAlbumsAction(res));\n    })\n  }\n}\n\nexport const getTopAlbumsAction = (page) => {\n  return dispatch => {\n    getTopAlbums(30, (page-1) * 30).then(res => {\n      dispatch(changeTopAlbumAction(res));\n      dispatch(changeTopTotalAction(res.total));\n    })\n  }\n}\n","import request from './axios';\n\nexport function getHotAlbums() {\n  return request({\n    url: \"/album/newest\"\n  })\n}\n\nexport function getTopAlbums(limit, offset) {\n  return request({\n    url: \"/top/album\",\n    params: {\n      limit,\n      offset\n    }\n  })\n}","import styled from 'styled-components';\n\nexport const HotAlbumWrapper = styled.div`\n  .album-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n`","import React, { memo, useEffect } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\n\nimport { getHotAlbumsAction } from '../../store/actionCreators';\n\nimport AlbumCover from '@/components/album-cover';\nimport HYThemHeaderNormal from '@/components/theme-header-normal';\nimport {\n  HotAlbumWrapper\n} from './style';\n\nexport default memo(function HotAlbum() {\n\n  const { hotAlbums } = useSelector(state => ({\n    hotAlbums: state.getIn([\"album\", \"hotAlbums\"])\n  }), shallowEqual)\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getHotAlbumsAction());\n  }, [dispatch]);\n\n  return (\n    <HotAlbumWrapper>\n      <HYThemHeaderNormal title=\"热门新碟\" />\n      <div className=\"album-list\">\n        {\n          hotAlbums.slice(0, 10).map((item, index) => {\n            return <AlbumCover size={\"130px\"} \n                                 width={\"153px\"} \n                                 bgp={\"-845px\"}\n                                 key={item.id} \n                                 info={item}/>\n          })\n        }\n      </div>\n    </HotAlbumWrapper>\n  )\n});\n","import styled from 'styled-components';\n\nexport const TopAlbumWrapper = styled.div`\n  margin-top: 30px;\n  .album-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n`","import React, { memo, useEffect, useState } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\n\nimport { getTopAlbumsAction } from '../../store/actionCreators';\n\nimport ThemeHeaderNormal from \"@/components/theme-header-normal\";\nimport AlbumCover from \"@/components/album-cover\";\nimport Pagination from '@/components/pagination';\nimport {\n  TopAlbumWrapper\n} from './style';\n\nexport default memo(function HYTopAlbum() {\n  const [currentPage, setCurrentPage] = useState(1);\n\n\n  const { topAlbums, total } = useSelector(state => ({\n    topAlbums: state.getIn([\"album\", \"topAlbums\"]),\n    total: state.getIn([\"album\", \"topTotal\"])\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getTopAlbumsAction(1));\n  }, [dispatch]);\n\n\n  const onPageChange = (page, pageSize) => {\n    setCurrentPage(page);\n    dispatch(getTopAlbumsAction(page))\n  }\n  console.log(total);\n\n  return (\n    <TopAlbumWrapper>\n      <ThemeHeaderNormal title=\"全部新碟\" />\n      <div className=\"album-list\">\n        {\n          topAlbums.map((item, index) => {\n            return <AlbumCover size={\"130px\"} \n                                 width={\"153px\"} \n                                 bgp={\"-845px\"}\n                                 key={item.id} \n                                 info={item}/>\n          })\n        }\n      </div>\n      <Pagination currentPage={currentPage} \n                    total={total} \n                    pageSize={30}\n                    onPageChange={onPageChange}/>\n    </TopAlbumWrapper>\n  )\n})\n","import styled from 'styled-components';\n\nexport const AblumWrapper = styled.div`\n  padding: 40px;\n  background-color: #fff;\n  border: 1px solid #d3d3d3;\n  border-width: 0 1px;\n`","import React, { memo } from 'react';\n\nimport HotAlbum from './c-cpns/hot-album';\nimport HYTopAlbum from './c-cpns/top-album';\nimport {\n  AblumWrapper\n} from './style';\n\nexport default memo(function HYAlbum() {\n  return (\n    <AblumWrapper className=\"wrap-v2\">\n      <HotAlbum/>\n      <HYTopAlbum/>\n    </AblumWrapper>\n  )\n})\n"],"sourceRoot":""}