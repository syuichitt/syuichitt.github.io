{"version":3,"sources":["components/pagination/style.js","components/pagination/index.js","components/theme-cover/style.js","components/theme-cover/index.js","pages/discover/c-pages/songs/c-cpns/songs-category/style.js","pages/discover/c-pages/songs/c-cpns/songs-category/index.js","pages/discover/c-pages/songs/c-cpns/songs-header/style.js","pages/discover/c-pages/songs/c-cpns/songs-header/index.js","pages/discover/c-pages/songs/c-cpns/songs-list/style.js","pages/discover/c-pages/songs/c-cpns/songs-list/index.js","pages/discover/c-pages/songs/style.js","pages/discover/c-pages/songs/index.js"],"names":["PaginationWrapper","styled","div","memo","props","currentPage","total","onPageChange","className","size","current","defaultCurrent","pageSize","showSizeChanger","itemRender","type","originalElement","onChange","ThemeCoverWrapper","right","info","src","getSizeImage","picUrl","coverImgUrl","alt","getCount","playCount","name","copywriter","creator","nickname","CategoryWrapper","useSelector","state","category","getIn","isShow","shallowEqual","dispatch","useDispatch","selectCategory","changeCurrentCategoryAction","getSongList","changeIsShowAction","onClick","e","map","item","index","key","subs","sItem","HeaderWrapper","HeaderLeft","HeaderRight","currentCategory","undefined","nativeEvent","stopImmediatePropagation","ShowCategory","SongListWrapper","useState","setCurrentPage","categorySongs","songList","playlists","id","PER_PAGE_NUMBER","page","SongsWrapper","cat","useLocation","useEffect","getCategory"],"mappings":"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","file":"static/js/7.02e76bb3.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const PaginationWrapper = styled.div`\r\n  .pagination {\r\n    margin: 30px 0;\r\n    text-align: center;\r\n\r\n    .control {\r\n      width: 69px;\r\n      height: 24px;\r\n      line-height: 22px;\r\n      text-align: center;\r\n      border: 1px solid #ccc;\r\n      border-radius: 2px;\r\n      margin: 0 5px;\r\n      color: #333;\r\n\r\n      &:disabled {\r\n        color: #999;\r\n      }\r\n    }\r\n\r\n    .ant-pagination-item {\r\n      border: 1px solid #ccc !important;\r\n      margin: 0 5px;\r\n      border-radius: 3px;\r\n\r\n      a {\r\n        font-size: 12px;\r\n      }\r\n\r\n      &.ant-pagination-item-active {\r\n        background-color: #c20c0c;\r\n        border-color: #A2161B;\r\n        a {\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`","import React, { memo } from 'react';\r\n\r\nimport { Pagination } from 'antd';\r\nimport { PaginationWrapper } from './style';\r\n\r\nexport default memo(function HYPagination(props) {\r\n  const { currentPage, total, onPageChange } = props;\r\n\r\n  // render function\r\n  function itemRender(current, type, originalElement) {\r\n    if (type === 'prev') {\r\n      return <button className=\"control prev\"> &lt; 上一页</button>;\r\n    }\r\n    if (type === 'next') {\r\n      return <button className=\"control next\">上一页 &gt;</button>;\r\n    }\r\n    return originalElement;\r\n  }\r\n\r\n  return (\r\n    <PaginationWrapper>\r\n      <Pagination className=\"pagination\"\r\n        size=\"small\"\r\n        current={currentPage}\r\n        defaultCurrent={1}\r\n        total={total}\r\n        pageSize={35}\r\n        /*不显示 35/page*/\r\n        showSizeChanger={false}\r\n        //修改左右箭头 官网有例子\r\n        itemRender={itemRender}\r\n        onChange={onPageChange} />\r\n    </PaginationWrapper>\r\n  )\r\n})\r\n","import styled from \"styled-components\";\r\n\r\nexport const ThemeCoverWrapper = styled.div `\r\n  width: 140px;\r\n  margin: 20px ${props => (props.right || 0)} 20px 0;\r\n\r\n  .cover-top {\r\n    position: relative;\r\n\r\n    &>img {\r\n      width: 140px;\r\n      height: 140px;\r\n    }\r\n    \r\n      .info {\r\n        width:100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 0 10px;\r\n        position: absolute;\r\n        bottom: 0;\r\n        background-position: 0 -537px;\r\n        color: #ccc;\r\n        height: 27px;\r\n\r\n        .erji {\r\n          margin-right: 5px;\r\n          display: inline-block;\r\n          width: 14px;\r\n          height: 11px;\r\n          background-position: 0 -24px;\r\n        }\r\n\r\n        .play {\r\n          display: inline-block;\r\n          width: 16px;\r\n          height: 17px;\r\n          background-position: 0 0;\r\n        }\r\n      }\r\n    \r\n  }\r\n\r\n  .cover-bottom {\r\n    font-size: 14px;\r\n    color: #000;\r\n    margin-top: 5px;\r\n  }\r\n\r\n  .cover-source {\r\n    color: #666;\r\n  }\r\n`","import React, { memo } from 'react';\r\n\r\nimport {\r\n  getSizeImage,\r\n  getCount\r\n} from \"@/utils/format-utils\";\r\n\r\nimport {\r\n  ThemeCoverWrapper\r\n} from \"./style\";\r\n\r\nexport default memo(function ThemeCover(props) {\r\n  const { info, right } = props;\r\n\r\n  return (\r\n    <ThemeCoverWrapper right={right}>\r\n      <div className=\"cover-top\">\r\n        {/* info.picUrl 推荐里的 info.coverImgUrl */}\r\n        <img src={getSizeImage(info.picUrl || info.coverImgUrl, 140)} alt=\"\" />\r\n\r\n        <div className=\"info sprite_covor\">\r\n          <span>\r\n            <i className=\"sprite_icon erji\"></i>\r\n            {getCount(info.playCount)}\r\n          </span>\r\n          <i className=\"sprite_icon play\"></i>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"cover-bottom text-nowrap\">\r\n        {info.name}\r\n      </div>\r\n\r\n      <div className=\"cover-source\">\r\n        by {info.copywriter || info.creator.nickname}\r\n      </div>\r\n    </ThemeCoverWrapper>\r\n  )\r\n})\r\n","import styled from \"styled-components\";\r\n\r\nexport const CategoryWrapper = styled.div`\r\n  position: absolute;\r\n  z-index: 99;\r\n  top: 55px;\r\n  left: -25px;\r\n  width: 700px;\r\n  border: 1px solid #ccc;\r\n  background-color: #fefefe;\r\n  box-shadow: 0 0 10px 2px #d3d3d3;\r\n  border-radius: 5px;\r\n  padding-top: 10px;\r\n  \r\n  .arrow {\r\n    position: absolute;\r\n    top: -11px;\r\n    left: 110px;\r\n    width: 24px;\r\n    height: 11px;\r\n    background-position: -48px 0;\r\n  }\r\n\r\n  .all {\r\n    padding: 10px 25px;\r\n    border-bottom: 1px solid #e2e2e2;\r\n  }\r\n\r\n  .category {\r\n    padding-left: 25px;\r\n    dl {\r\n      display: flex;\r\n    }\r\n\r\n    dt {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      padding: 15px 0 10px;\r\n      width: 70px;\r\n      text-align: center;\r\n\r\n      i {\r\n        display: inline-block;\r\n        width: 24px;\r\n        height: 24px;\r\n        background-position: -20px -735px;\r\n        margin-right: 8px;\r\n      }\r\n    }\r\n  \r\n\r\n    dl.item1 {\r\n      i {\r\n        background-position: 0 -60px;\r\n      }\r\n      align-items: flex-start;\r\n    }\r\n\r\n    dl.item2 {\r\n      i {\r\n        background-position: 0 -88px;\r\n      }\r\n      align-items: flex-start;\r\n    }\r\n\r\n    dl.item3 {\r\n      i {\r\n        background-position: 0 -117px;\r\n      }\r\n      align-items: flex-start;\r\n    }\r\n\r\n    dl.item4 {\r\n      i {\r\n        background-position: 0 -141px;\r\n      }\r\n\r\n      dd {\r\n        padding-bottom: 25px;\r\n      }\r\n      align-items: flex-start;\r\n    }\r\n\r\n    dd {\r\n      padding-top: 18px;\r\n      padding-left: 15px;\r\n      flex: 1;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      border-left: 1px solid #e2e2e2;\r\n\r\n      .item {\r\n        margin-bottom: 8px;\r\n      }\r\n\r\n      a {\r\n        color: #333;\r\n      }\r\n\r\n      .divider {\r\n        margin: 0 12px;\r\n        color: #e2e2e2;\r\n      }\r\n    }\r\n  }\r\n`","import React, { memo } from 'react';\r\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\r\n\r\nimport {\r\n  changeCurrentCategoryAction,\r\n  getSongList,\r\n  changeIsShowAction\r\n} from \"../../store/actionCreators\";\r\n\r\nimport {\r\n  CategoryWrapper\r\n} from \"./style\";\r\n\r\nexport default memo(function SongsCategory() {\r\n  // redux\r\n  const { category,isShow } = useSelector(state => ({\r\n    category: state.getIn([\"songs\", \"category\"]),\r\n    isShow: state.getIn([\"songs\", \"isShow\"]),\r\n  }), shallowEqual);\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  function selectCategory(name) {\r\n    dispatch(changeCurrentCategoryAction(name));\r\n    dispatch(getSongList(0));\r\n    dispatch(changeIsShowAction(!isShow))\r\n  }\r\n  \r\n  return (\r\n    <CategoryWrapper>\r\n      <div className=\"arrow sprite_icon\"></div>\r\n      <div className=\"all\">\r\n        <span className=\"link\" onClick={e => selectCategory(\"全部\")}>全部风格</span>\r\n      </div>\r\n      <div className=\"category\">\r\n        {\r\n          category.map((item, index) => {\r\n            return (\r\n              <dl key={item.name} className={\"item\" + index}>\r\n                <dt>\r\n                  <i className=\"icon sprite_icon2\"></i>\r\n                  <span>{item.name}</span>\r\n                </dt>\r\n                <dd>\r\n                  {\r\n                    item.subs.map(sItem => {\r\n                      return (\r\n                        <div className=\"item\" key={sItem.name}>\r\n                          <span className=\"link\" onClick={e => selectCategory(sItem.name)}>{sItem.name}</span>\r\n                          <span className=\"divider\">|</span>\r\n                        </div>\r\n                      )\r\n                    })\r\n                  }\r\n                </dd>\r\n              </dl>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </CategoryWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components';\r\n\r\nexport const HeaderWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 2px solid #c20c0c;\r\n  padding-bottom: 6px;\r\n`\r\n\r\nexport const HeaderLeft = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  .title {\r\n    font-size: 24px;\r\n    font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\r\n  }\r\n\r\n  .select {\r\n    position: relative;\r\n    top: 2px;\r\n    width: 91px;\r\n    height: 31px;\r\n    line-height: 31px;\r\n    background-color: #fafafa;\r\n    border: 1px solid #d3d3d3;\r\n    border-radius: 3px;\r\n    color: #0c73c2;\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n    &:hover {\r\n      background-color: #fff;\r\n    } \r\n\r\n    i {\r\n      position: relative;\r\n      left: 5px;\r\n      bottom: 2px;\r\n      display: inline-block;\r\n      width: 8px;\r\n      height: 5px;\r\n      background-position: -70px -543px;\r\n    }\r\n  }\r\n\r\n`\r\n\r\nexport const HeaderRight = styled.div`\r\n  .hot {\r\n    width: 46px;\r\n    height: 29px;\r\n    background-color: #c20c0c;\r\n    color: #fff;\r\n    border-radius: 3px;\r\n    border: 1px solid #aaa;\r\n  }\r\n`","import React, {memo} from 'react';\r\nimport { useSelector, shallowEqual,useDispatch} from 'react-redux';\r\nimport  {changeIsShowAction} from '../../store/actionCreators';\r\nimport SongsCategory from '../songs-category';\r\n\r\nimport {\r\n  HeaderWrapper,\r\n  HeaderLeft,\r\n  HeaderRight\r\n} from \"./style\";\r\n\r\nexport default memo(function HYSongsHeader() {\r\n  // hooks\r\n  \r\n  const {isShow}  = useSelector(state => ({\r\n    isShow: state.getIn([\"songs\", \"isShow\"]),\r\n  }), shallowEqual);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // redux\r\n  const { currentCategory } = useSelector(state => ({\r\n    currentCategory: state.getIn([\"songs\", \"currentCategory\"]),\r\n  }), shallowEqual);\r\n\r\n  const ShowCategory = (isShow,e) =>{\r\n    dispatch(changeIsShowAction(isShow))\r\n    e.nativeEvent.stopImmediatePropagation();\r\n  }\r\n  return (\r\n    <HeaderWrapper>\r\n      <HeaderLeft>\r\n        <span className=\"title\">{currentCategory === undefined? \"全部\":currentCategory }</span>\r\n        <button className=\"select\" onClick={e => ShowCategory(!isShow,e)}>\r\n          <span>选择分类</span>\r\n          <i className=\"sprite_icon2\"></i>\r\n        </button >\r\n        {isShow ? <SongsCategory /> : null}\r\n      </HeaderLeft>\r\n      <HeaderRight>\r\n        <button className=\"hot\">热门</button>\r\n      </HeaderRight>\r\n    </HeaderWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components';\r\n\r\nexport const SongListWrapper = styled.div`\r\n  .songs-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    margin-right: -30px;\r\n  }\r\n`","import React, { useState, memo } from 'react';\r\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\r\n\r\nimport { PER_PAGE_NUMBER } from '../../store/constants';\r\nimport { getSongList } from \"../../store/actionCreators\";\r\n\r\nimport ThemeCover from '@/components/theme-cover';\r\nimport Pagination from '@/components/pagination';\r\nimport {\r\n  SongListWrapper\r\n} from \"./style\";\r\n\r\nexport default memo(function HYSongsList() {\r\n  // hooks\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  // redux\r\n  const { categorySongs } = useSelector(state => ({\r\n    categorySongs: state.getIn([\"songs\", \"categorySongs\"])\r\n  }), shallowEqual);\r\n  const songList = categorySongs.playlists || [];\r\n  const total = categorySongs.total || 0;\r\n  const dispatch = useDispatch();\r\n\r\n  function onPageChange(page, pageSize) {\r\n    setCurrentPage(page);\r\n    dispatch(getSongList(page));\r\n  }\r\n\r\n  return (\r\n    <SongListWrapper>\r\n      <div className=\"songs-list\">\r\n        {\r\n          songList.map((item, index) => {\r\n            return (\r\n              <ThemeCover info={item} key={item.id} right=\"30px\" />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n      <Pagination currentPage={currentPage} \r\n                    total={total} \r\n                    pageSize={PER_PAGE_NUMBER}\r\n                    onPageChange={onPageChange}/>\r\n    </SongListWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components';\r\n\r\nexport const SongsWrapper = styled.div`\r\n  padding: 40px;\r\n  border: 1px solid #d3d3d3;\r\n  border-width: 0 1px;\r\n  background-color: #fff;\r\n`","import React, { useEffect, memo } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n\r\nimport { \r\n  getCategory,\r\n  getSongList,\r\n  changeCurrentCategoryAction\r\n} from \"./store/actionCreators\";\r\n\r\nimport HYSongsHeader from \"./c-cpns/songs-header\";\r\nimport HYSongsList from './c-cpns/songs-list';\r\nimport {\r\n  SongsWrapper\r\n} from \"./style\"\r\n\r\nexport default memo(function HYSongs() {\r\n  // redux\r\n  const dispatch = useDispatch();\r\n  const cat = useLocation().cat;\r\n\r\n  useEffect(() => {\r\n    dispatch(changeCurrentCategoryAction(cat));\r\n  }, [dispatch, cat]);\r\n\r\n  // hooks\r\n  useEffect(() => {\r\n    dispatch(getCategory());\r\n    dispatch(getSongList(0));\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <SongsWrapper className=\"wrap-v2\">\r\n      <HYSongsHeader/>\r\n      <HYSongsList/>\r\n    </SongsWrapper>\r\n  )\r\n})\r\n"],"sourceRoot":""}